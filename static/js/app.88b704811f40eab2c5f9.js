webpackJsonp([1],{"3z2T":function(t,e){},"51ql":function(t,e){},M93x:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=["mifu","lgq","hzy","yyr","lishu","cjs","wxz","zc"],s={props:["poem"],data:function(){return{theme:_.random(1,4),fontFace:n[_.random(n.length-1)]}},computed:{poems:function(){var t=[];return this.poem&&this.poem.text&&(t=this.poem.text.split("。").reverse()),t}},watch:{poem:function(t){this.theme=_.random(1,4),this.fontFace=n[_.random(n.length-1)]}},methods:{getStyle:function(){return{fontFamily:"cjs"}},getLeftStyle:function(){return"poem-left"+this.theme},getRightStyle:function(){return"poem-right-head"+this.theme}}},a={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"poem",style:t.getStyle()},[i("div",{class:t.getLeftStyle()},[1==t.theme?i("img",{attrs:{src:"/static/imgs/poem/plum6.gif",width:"260"}}):t._e(),t._v(" "),i("div",{staticClass:"poem-left-bottom"},[i("div",{staticClass:"poem-left-other"},[i("div",[t._v(t._s(t.poem.when)+"于")]),t._v(" "),i("div",[t._v(t._s(t.poem.where))])]),t._v(" "),i("div",{staticClass:"poem-left-author"},[i("div",{staticClass:"poem-author"},[t._v(t._s(t.poem.who))])])]),t._v(" "),3==t.theme?i("img",{attrs:{src:"/static/imgs/poem/plum1.jpg",width:"240"}}):t._e()]),t._v(" "),i("div",{staticClass:"poem-right"},[i("div",{staticClass:"poem-right-body"},t._l(t.poems,function(e,n){return i("div",{key:n,staticClass:"poem-right-body-column"},[t._v(" \n        "+t._s(e)+"\n      ")])})),t._v(" "),i("div",{staticClass:"poem-right-head"},[2==t.theme?i("img",{staticStyle:{position:"absolute",top:"0",right:"0"},attrs:{src:"/static/imgs/poem/plum8.jpg",width:"200"}}):t._e(),t._v(" "),i("div",{class:t.getRightStyle()},[i("div",{staticClass:"poem-right-head-type"},[t._v(t._s(t.poem.type))]),t._v(" "),i("div",{staticClass:"poem-right-head-title"},[t._v(t._s(t.poem.title))])]),t._v(" "),4==t.theme?i("img",{staticStyle:{position:"absolute",bottom:"0",right:"0"},attrs:{src:"/static/imgs/poem/plum2.jpg",width:"142",height:"250"}}):t._e()])])])},staticRenderFns:[]};var o={components:{Poem:i("VU/8")(s,a,!1,function(t){i("q7K8")},"data-v-fa033b62",null).exports},props:["config"],data:function(){return{poem:{},current:0}},computed:{poems:function(){return this.txt.split("。").reverse()},poemLoaded:function(){return!_.isEmpty(this.poem)}},mounted:function(){this.randomPoem()},methods:{goRandom:function(){this.$refs.voice.play(),this.randomPoem()},randomPoem:function(){var t=this;if(console.log(">>> 为啥还没有"),this.config){var e=_.random(1,this.config.num);e===this.current&&(e=this.current===this.config.num?1:this.current+1),this.current=e,this.axios.get("/static/poems/"+e+".json").then(function(e){t.poem=e.data,t.theme=_.random(4)})}}}},r={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"module"},[i("transition",{attrs:{name:"road","enter-active-class":"animated fadeIn","leave-active-class":"animated fadeOut"}},[t.poemLoaded?i("Poem",{attrs:{poem:t.poem}}):t._e()],1),t._v(" "),i("div",{staticClass:"next",on:{click:function(e){t.goRandom()}}},[t._v("\n   再读一首\n  ")]),t._v(" "),i("audio",{ref:"voice"},[i("source",{attrs:{src:"/static/click.mp3",type:"audio/mp3"}})])],1)},staticRenderFns:[]};var c={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"module"},[e("img",{staticClass:"img",attrs:{src:"https://blog-1255436783.cos.ap-guangzhou.myqcloud.com/2016%E7%9A%84%E5%89%AF%E6%9C%AC.jpg",alt:""}})])}]};var u={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"module"},[e("div",{staticClass:"pa"},[e("div",{staticClass:"title"}),this._v(" "),e("div",{staticClass:"content"},[this._v("\n      After all,tomorrow is another day！\n    ")])])])}]};var l={components:{Poem:i("VU/8")(o,r,!1,function(t){i("aRnQ")},"data-v-98cc418e",null).exports,Time:i("VU/8")({},c,!1,function(t){i("ccUY")},null,null).exports,Think:i("VU/8")({},u,!1,function(t){i("3z2T")},null,null).exports},name:"app",beforeCreate:function(){var t=this;this.axios.get("/static/config.json").then(function(e){t.config=e.data,t.init(e.data.index)})},data:function(){return{menus:[{name:"poem",label:"读词"},{name:"time",label:"时光"},{name:"think",label:"点滴"}],curModule:"",isPlay:!1,musicUrl:"",imgObj:void 0,config:{}}},computed:{router:function(){return _.replace(this.$route.path,"/","")}},methods:{onMenuChanged:function(t){this.curModule=t,this.$refs.voice.play()},init:function(t){var e=t.bgImgNum,i=(t.music,_.random(1,e));this.imgObj={src:this.config.base+"/index/"+i+".jpg",preview:this.config.base+"/index/"+i+"_r.jpg"}},toggleMusic:function(){if(this.isPlay=!this.isPlay,!this.musicUrl){var t=this.config.index.musicNum;this.musicUrl=this.config.base+"/music/"+_.random(1,t)+".mp3",this.$refs.bgMusic.src=this.musicUrl}this.isPlay?this.$refs.bgMusic.play():this.$refs.bgMusic.pause()}}},m={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"app"},[i("div",{staticClass:"nav"},[i("img",{attrs:{src:"/static/imgs/poem/plum7.gif",width:"200"}}),t._v(" "),i("div",{staticClass:"nav-row"},[i("div",{staticClass:"app-name",on:{click:function(e){t.onMenuChanged("")}}},[t._v("还真小驿")]),t._v(" "),t._l(t.menus,function(e){return i("div",{key:e.name,staticClass:"nav-item",class:{"nav-selected":e.name===t.curModule},on:{click:function(i){t.onMenuChanged(e.name)}}},[t._v(t._s(e.label))])})],2)]),t._v(" "),"poem"===t.curModule?i("Poem",{attrs:{config:t.config.poem}}):"time"===t.curModule?i("Time"):"think"===t.curModule?i("Think"):i("div",{staticClass:"module"},[t.imgObj?i("div",{staticClass:"progressive bgImg"},[i("img",{directives:[{name:"progressive",rawName:"v-progressive",value:t.imgObj.src,expression:"imgObj.src"}],staticClass:"preview",attrs:{src:t.imgObj.preview}})]):t._e()]),t._v(" "),i("audio",{ref:"voice"},[i("source",{attrs:{src:"/static/nav.mp3",type:"audio/mp3"}})]),t._v(" "),i("div",{staticClass:"music"},[i("img",{class:{musicPlay:t.isPlay},attrs:{src:"/static/imgs/music.png"},on:{click:function(e){t.toggleMusic()}}}),t._v(" "),i("audio",{ref:"bgMusic",attrs:{loop:""}},[i("source",{attrs:{src:t.musicUrl,type:"audio/mp3"}})])])],1)},staticRenderFns:[]};var d=i("VU/8")(l,m,!1,function(t){i("PFSq")},"data-v-7fd494a4",null);e.default=d.exports},NHnr:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i("7+uW"),s=i("M93x"),a=i("/ocq");n.a.use(a.a);var o=new a.a({mode:"history",routes:[{path:"/",name:"backtrue",component:function(t){return new Promise(function(t){t()}).then(function(){return t(i("M93x"))}.bind(null,i)).catch(i.oe)}},{path:"*",redirect:"/"}]}),r=(i("51ql"),i("g0DO"),i("mtWM")),c=i.n(r),u=i("Rf8U"),l=i.n(u),m=i("cTzj"),d=i.n(m);n.a.use(l.a,c.a),n.a.use(d.a,{preLoad:1.3,throttleWait:2e3,error:"/static/imgs/test.jpg",loading:"/static/imgs/bike.gif",attempt:1}),n.a.use(function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Array.prototype.remove=function(t){if(this.length){var e=this.indexOf(t);return e>-1?this.splice(e,1):void 0}};var i="2"==t.version.split(".")[0],n=["scroll","wheel","mousewheel","resize"],s=function(t,e){var i=null,n=0;return function(){if(!i){var s=this,a=arguments,o=function(){n=Date.now(),i=!1,t.apply(s,a)};Date.now()-n>=e?o():i=setTimeout(o,e)}}},a=function(t,e,i){t.addEventListener(e,i)},o=function(t,e,i){t.removeEventListener(e,i)},r=function(t,e){e?n.forEach(function(e){a(t,e,d)}):n.forEach(function(e){o(t,e,d)})},c=function(){var t=document.createElement("fake"),e={animation:"animationend",OAnimation:"oAnimationEnd",MozAnimation:"animationend",WebkitAnimation:"webkitAnimationEnd"};for(var i in e)if(void 0!==t.style[i])return e[i]}(),u=[],l=[],m={removePreview:e.removePreview||!1,scale:e.scale||!1,hasBind:!1},d=s(function(t){for(var e=0,i=u.length;e<i;e++)f(u[e])},300),f=function(t){if(l.indexOf(t.src)>-1)return v(t.el,t.src,"loaded");var e=t.el.getBoundingClientRect();e.top<window.innerHeight&&e.bottom>0&&e.left<window.innerWidth&&e.right>0&&g(t)},h=function(e){var i=!1;return u.forEach(function(t){t.el==e&&(i=!0)}),i&&t.nextTick(function(){d()}),i},p=function(e,i,n){if(!h(e)){var s=i.value;if(l.indexOf(s)>-1)return v(e,s,"loaded");t.nextTick(function(t){h(e)||u.push({el:e,src:s}),d(),u.length>0&&!m.hasBind&&(m.hasBind=!0,r(window,!0))})}},v=function(t,e,i){t.setAttribute("lazy",i)},g=function(t){var e=new Image;t.el.dataset&&(t.el.dataset.srcset&&(e.srcset=t.el.dataset.srcset),t.el.dataset.sizes&&(e.sizes=t.el.dataset.sizes)),e.src=t.src,e.className="origin",m.scale&&(e.className="origin-scale"),e.onload=function(i){u.remove(t),l.push(t.src),_(t,e)},e.onerror=function(t){}},_=function(t,e){var i=t.el,n=i.parentNode;n.appendChild(e).addEventListener(c,function(t){i.alt&&(t.target.alt=i.alt),i.classList.add("hide"),m.removePreview&&(n.removeChild(i),t.target.classList.remove("origin"),t.target.classList.remove("origin-scale"))})},b=function(t,e,i,n){t&&m.hasBind&&(m.hasBind=!1,r(window,!1),u.length=l.length=0)};i?t.directive("progressive",{bind:p,update:p,inserted:p,comppnentUpdated:d,unbind:b}):t.directive("progressive",{bind:d,update:function(t,e){p(this.el,{modifiers:this.modifiers,arg:this.arg,value:t,oldValue:e})},unbind:function(){b(this.el)}})},{removePreview:!1,scale:!1}),n.a.config.productionTip=!1,window._=i("M4fF"),new n.a({el:"#app",router:o,template:"<App/>",components:{App:s.default}})},PFSq:function(t,e){},aRnQ:function(t,e){},ccUY:function(t,e){},g0DO:function(t,e){},q7K8:function(t,e){}},["NHnr"]);